<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-title color="primary">What's your destination?</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title class="large-title" size="large">What's your destination?</ion-title>
    </ion-toolbar>
  </ion-header>

  <div class="trip-search ion-padding">
    <div class="top-row">
      <ion-item lines="none" class="trip-type">
        <ion-select #tripType [(ngModel)]="bookingType" class="select" name="type" value="one_way"
          placeholder="Select Trip Type">
          <ion-select-option value="one_way">One Way</ion-select-option>
          <ion-select-option value="round_trip">Round Trip</ion-select-option>
        </ion-select>
      </ion-item>
      <div class="passengers">
        <ion-button (click)="openPassengers()" class="btn" color="secondary" expand="block" fill="clear" shape="round">
          <ion-icon slot="start" name="people-outline"></ion-icon>
          ({{passengers.total}}) Passengers
        </ion-button>
      </div>
    </div>

    <div tappable (click)="openTerminalSearch('departure')" class="input-placeholder ion-activatable">
      <div class="icon">
        <ion-icon name="locate"></ion-icon>
      </div>
      <span class="text">{{(terminals?.departure?.name | titlecase) || 'Departure Terminal'}}</span>
      <ion-ripple-effect type="bounded"></ion-ripple-effect>
    </div>

    <div tappable (click)="openTerminalSearch('arrival')" class="input-placeholder  ion-activatable">
      <div class="icon">
        <ion-icon name="location"></ion-icon>
      </div>
      <span class="text">{{(terminals?.arrival?.name | titlecase)||'Arrival Terminal'}}</span>
      <ion-ripple-effect type="bounded"></ion-ripple-effect>
    </div>

    <div tappable (click)="departureDatetime.open()" class="input-placeholder ion-activatable">
      <ion-datetime hidden [(ngModel)]="departureDate" #departureDatetime displayFormat="MM/DD/YYYY">
      </ion-datetime>
      <div class="icon">
        <ion-icon name="calendar"></ion-icon>
      </div>
      <span class="text">{{(departureDatetime.value | date) || 'Departure Date'}}</span>
      <ion-ripple-effect type="bounded"></ion-ripple-effect>
    </div>

    <div *ngIf="tripType.value == 'round_trip'" tappable (click)="returnDatetime.open()"
      class="input-placeholder ion-activatable">
      <ion-datetime [(ngModel)]="returnDate" hidden #returnDatetime displayFormat="MM/DD/YYYY">
      </ion-datetime>
      <div class="icon">
        <ion-icon name="calendar"></ion-icon>
      </div>
      <span class="text">{{(returnDatetime.value | date) || 'Return Date'}}</span>
      <ion-ripple-effect type="bounded"></ion-ripple-effect>
    </div>

    <ion-button (click)="searchForTrip()" class="btn" expand="block">
      <ion-icon slot="start" name="search-outline"></ion-icon>
      Search
    </ion-button>
  </div>

  <div class="how-to ion-padding">
    <h3 class="title">How it works</h3>

    <div class="list">
      <ion-list>
        <ion-item>
          <ion-icon color="secondary" slot="start" name="search"></ion-icon>
          <ion-label class="ion-text-wrap">
            <h2 class="heading">Search</h2>
            <ion-note>Find available buses for your departure date.</ion-note>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-icon color="secondary" slot="start" name="hourglass-outline"></ion-icon>
          <ion-label class="ion-text-wrap">
            <h2 class="heading">Select Desired Departure Time</h2>
            <ion-note>Choose the most comfortable departure time for your trip.</ion-note>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-icon color="secondary" slot="start" name="people-outline"></ion-icon>
          <ion-label class="ion-text-wrap">
            <h2 class="heading">Book Seat(s)</h2>
            <ion-note>Select your preferred seat(s).</ion-note>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-icon color="secondary" name="star" slot="start"></ion-icon>
          <ion-label class="ion-text-wrap">
            <h2 class="heading">Complete booking(s)</h2>
            <ion-note>Make payment for your selected options.</ion-note>
          </ion-label>
        </ion-item>
      </ion-list>
    </div>
  </div>
</ion-content>